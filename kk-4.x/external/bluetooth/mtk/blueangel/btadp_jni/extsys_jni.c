/* Copyright Statement:
 *
 * This software/firmware and related documentation ("MediaTek Software") are
 * protected under relevant copyright laws. The information contained herein is
 * confidential and proprietary to MediaTek Inc. and/or its licensors. Without
 * the prior written permission of MediaTek inc. and/or its licensors, any
 * reproduction, modification, use or disclosure of MediaTek Software, and
 * information contained herein, in whole or in part, shall be strictly
 * prohibited.
 * 
 * MediaTek Inc. (C) 2010. All rights reserved.
 * 
 * BY OPENING THIS FILE, RECEIVER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
 * THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
 * RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO RECEIVER
 * ON AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL
 * WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR
 * NONINFRINGEMENT. NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH
 * RESPECT TO THE SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY,
 * INCORPORATED IN, OR SUPPLIED WITH THE MEDIATEK SOFTWARE, AND RECEIVER AGREES
 * TO LOOK ONLY TO SUCH THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO.
 * RECEIVER EXPRESSLY ACKNOWLEDGES THAT IT IS RECEIVER'S SOLE RESPONSIBILITY TO
 * OBTAIN FROM ANY THIRD PARTY ALL PROPER LICENSES CONTAINED IN MEDIATEK
 * SOFTWARE. MEDIATEK SHALL ALSO NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE
 * RELEASES MADE TO RECEIVER'S SPECIFICATION OR TO CONFORM TO A PARTICULAR
 * STANDARD OR OPEN FORUM. RECEIVER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S
 * ENTIRE AND CUMULATIVE LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE
 * RELEASED HEREUNDER WILL BE, AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE
 * MEDIATEK SOFTWARE AT ISSUE, OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE
 * CHARGE PAID BY RECEIVER TO MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE.
 *
 * The following software/firmware and/or related documentation ("MediaTek
 * Software") have been modified by MediaTek Inc. All revisions are subject to
 * any receiver's applicable license agreements with MediaTek Inc.
 */

/* !---- DO NOT EDIT: This file autogenerated by com\sun\gluegen\JavaEmitter.java on Thu Dec 09 13:33:35 GMT+08:00 2010 ----! */

#include <jni.h>
#include <stdlib.h>

#include <assert.h>

	#include "ext_interlayer.h"

/*   Java->C glue code:
 *   Java package: com.mediatek.bluetooth.ilm.ilm_native
 *    Java method: void close_socket(int socketfd)
 *     C function: void close_socket(int socketfd);
 */
JNIEXPORT void JNICALL 
Java_com_mediatek_bluetooth_ilm_ilm_1native_close_1socket__I(JNIEnv *env, jclass _unused, jint socketfd) {
  close_socket((int) socketfd);
}


/*   Java->C glue code:
 *   Java package: com.mediatek.bluetooth.ilm.ilm_native
 *    Java method: int create_client_socket(java.lang.String name, int namespace)
 *     C function: int create_client_socket(const char *  name, ext_interlayer_socket_namespace_enum namespace);
 */
JNIEXPORT jint JNICALL 
Java_com_mediatek_bluetooth_ilm_ilm_1native_create_1client_1socket__Ljava_lang_String_2I(JNIEnv *env, jclass _unused, jstring name, jint namespace) {
  const char* _strchars_name = NULL;
  int _res;
  if (name != NULL) {
    _strchars_name = (*env)->GetStringUTFChars(env, name, (jboolean*)NULL);
    if (_strchars_name == NULL) {
      (*env)->ThrowNew(env, (*env)->FindClass(env, "java/lang/OutOfMemoryError"),
                       "Failed to get UTF-8 chars for argument \"name\" in native dispatcher for \"create_client_socket\"");
      return 0;
    }
  }
  _res = create_client_socket((char *) _strchars_name, (ext_interlayer_socket_namespace_enum) namespace);
  if (name != NULL) {
    (*env)->ReleaseStringUTFChars(env, name, _strchars_name);
  }
  return _res;
}


/*   Java->C glue code:
 *   Java package: com.mediatek.bluetooth.ilm.ilm_native
 *    Java method: int create_server_socket(java.lang.String name, int namespace)
 *     C function: int create_server_socket(const char *  name, ext_interlayer_socket_namespace_enum namespace);
 */
JNIEXPORT jint JNICALL 
Java_com_mediatek_bluetooth_ilm_ilm_1native_create_1server_1socket__Ljava_lang_String_2I(JNIEnv *env, jclass _unused, jstring name, jint namespace) {
  const char* _strchars_name = NULL;
  int _res;
  if (name != NULL) {
    _strchars_name = (*env)->GetStringUTFChars(env, name, (jboolean*)NULL);
    if (_strchars_name == NULL) {
      (*env)->ThrowNew(env, (*env)->FindClass(env, "java/lang/OutOfMemoryError"),
                       "Failed to get UTF-8 chars for argument \"name\" in native dispatcher for \"create_server_socket\"");
      return 0;
    }
  }
  _res = create_server_socket((char *) _strchars_name, (ext_interlayer_socket_namespace_enum) namespace);
  if (name != NULL) {
    (*env)->ReleaseStringUTFChars(env, name, _strchars_name);
  }
  return _res;
}


/*   Java->C glue code:
 *   Java package: com.mediatek.bluetooth.ilm.ilm_native
 *    Java method: void print_message_id()
 *     C function: void print_message_id();
 */
JNIEXPORT void JNICALL 
Java_com_mediatek_bluetooth_ilm_ilm_1native_print_1message_1id__(JNIEnv *env, jclass _unused) {
  print_message_id();
}


/*   Java->C glue code:
 *   Java package: com.mediatek.bluetooth.ilm.ilm_native
 *    Java method: int recv_message(int socketfd, ilm_struct ilm)
 *     C function: int recv_message(int socketfd, ilm_struct *  ilm);
 */
JNIEXPORT jint JNICALL 
Java_com_mediatek_bluetooth_ilm_ilm_1native_recv_1message0__ILjava_nio_ByteBuffer_2(JNIEnv *env, jclass _unused, jint socketfd, jobject ilm) {
  ilm_struct * _ptr1 = NULL;
  int _res;
    if (ilm != NULL) {
        _ptr1 = (ilm_struct *) (((char*) (*env)->GetDirectBufferAddress(env, ilm)) + 0);
    }
  _res = recv_message((int) socketfd, (ilm_struct *) _ptr1);
  return _res;
}


/*   Java->C glue code:
 *   Java package: com.mediatek.bluetooth.ilm.ilm_native
 *    Java method: int send_message(int socketfd, ilm_struct message, int size)
 *     C function: int send_message(int socketfd, ilm_struct *  message, int size);
 */
JNIEXPORT jint JNICALL 
Java_com_mediatek_bluetooth_ilm_ilm_1native_send_1message0__ILjava_nio_ByteBuffer_2I(JNIEnv *env, jclass _unused, jint socketfd, jobject message, jint size) {
  ilm_struct * _ptr1 = NULL;
  int _res;
    if (message != NULL) {
        _ptr1 = (ilm_struct *) (((char*) (*env)->GetDirectBufferAddress(env, message)) + 0);
    }
  _res = send_message((int) socketfd, (ilm_struct *) _ptr1, (int) size);
  return _res;
}


